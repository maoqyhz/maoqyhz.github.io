---
title: Hexo Next é›†æˆ utterances è¯„è®ºç³»ç»Ÿ
tags:
  - Hexo
  - Hexo Next 
categories:
  - æŠ€æœ¯
copyright: true
date: 2019-08-20 22:43:16
---

å¯èƒ½æ˜¯ç›®å‰é™æ€åšå®¢æœ€å¥½çš„è¯„è®ºç³»ç»Ÿã€‚

<!--more-->

è¯´å¥½äº†å†ä¹Ÿä¸æŠ˜è…¾ä¸»é¢˜å’Œæ ·å¼äº†ï¼Œé‚£ä¸æ˜¯å¯èƒ½çš„ï¼ä¹‹å‰ä¸€ç›´åœ¨ç”¨ä¸€ä¸ªå›½äº§çš„è¯„è®ºç³»ç»Ÿ valineï¼Œè¿™æ˜¯ä¸€ä¸ªåŸºäº Leancloud çš„ä¸€ä¸ªè¯„è®ºç³»ç»Ÿï¼Œå±•ç¤ºçš„æ–¹å¼è¿˜ç®—ä¸é”™å•¦ï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨é—®é¢˜ï¼Œä¸€æ˜¯æ²¡æœ‰è¯„è®ºæ¨é€ï¼ŒäºŒæ˜¯åç»­æ— æ³•æ›´å¥½çš„æ²Ÿé€šã€‚

äºæ˜¯å°±è¯ç”Ÿäº†å¦å¤–ä¸€ç³»åˆ—åŸºäº GitHub issue çš„è¯„è®ºç³»ç»Ÿï¼Œä¾‹å¦‚ gitmentã€gitalkã€‚è¿™ç±»è¯„è®ºç³»ç»Ÿä¼šä¸ºæ¯ä¸€ç¯‡åšå®¢ç”Ÿæˆä¸€ä¸ª issue ä½œä¸ºè¯„è®ºå­˜å‚¨ï¼Œè‡ªç„¶å‘å¸ƒè¯„è®ºåï¼ŒGitHubä¼šè‡ªåŠ¨é‚®ä»¶æ¨é€ï¼Œåç»­ä¹Ÿå¯ç»§ç»­åœ¨ä¸Šé¢äº¤æµï¼Œä¸€ä¸¾ä¸¤å¾—ã€‚åŸæœ¬ä¹Ÿæƒ³ç”¨ gitalk çš„ï¼Œå› ä¸º hexo next ä¸»é¢˜é»˜è®¤æ˜¯é›†æˆçš„ï¼Œä½†æ˜¯æ— æ„ä¸­åœ¨ v2 çœ‹äº†ä¸€ç¯‡æ–‡ç« ï¼ˆ[å»ºè®®å¤§å®¶å¼ƒç”¨ Gitalk å’Œ Gitment ç­‰æƒé™è¿‡é«˜çš„ Github OAuth App](https://www.v2ex.com/t/535608)ï¼‰ï¼Œç«‹é©¬å°±å¸¦æ‰“æ¶ˆäº†å¿µå¤´ï¼Œå› ä¸ºä¸å®‰å…¨ï¼

ä¸Šé¢ä¸¤ç§è¯„è®ºç³»ç»Ÿè·å–çš„ OAuth æƒé™è¿‡é«˜ï¼Œç›´æ¥å¯ä»¥è¯»å†™è¯„è®ºäººæ‰€æœ‰çš„ repoï¼Œå­˜åœ¨å·¨å¤§çš„é£é™©ã€‚è€Œ [utterances](https://github.com/utterance) æ˜¯é€šè¿‡ GitHub app å®ç°çš„ï¼Œä»…éœ€è¦è·å–ç”¨äºè¯„è®ºçš„é‚£ä¸ª repo å³å¯ã€‚

> A lightweight comments widget built on GitHub issues. Use GitHub issues for blog comments, wiki pages and more!
>
> - Open source. ğŸ™Œ
> - No tracking, no ads, always free. ğŸ“¡ğŸš«
> - No lock-in. All data stored in GitHub issues. ğŸ”“
> - Styled with Primer, the css toolkit that powers GitHub. ğŸ’…
> - Dark theme. ğŸŒ˜
> - Lightweight. Vanilla TypeScript. No font downloads, JavaScript frameworks or > polyfills for evergreen browsers. ğŸ¦ğŸŒ²

## é›†æˆæµç¨‹

### GitHub é…ç½®ä¸è„šæœ¬è·å–
1. åˆ›å»ºå­˜æ”¾ comments çš„ä»£ç ä»“åº“ï¼Œå¿…é¡»ä¸º publicï¼Œä¸”å¯åˆ›å»º issueã€‚
2. [install utterances app](https://github.com/apps/utterances) ç‚¹å‡»è¿™ä¸ªé“¾æ¥å®‰è£…utterances appåˆ°åˆšåˆšåˆ›å»ºçš„é‚£ä¸ªä»“åº“ã€‚
3. æ‰“å¼€ https://utteranc.es/ ï¼Œæ ¹æ®æç¤ºçš„æ­¥éª¤ç”Ÿæˆæ‰€éœ€çš„js scriptã€‚ä¹Ÿå¯åœ¨ä¸‹é¢ä»£ç çš„åŸºç¡€ä¸Šæ›´æ–°è‡ªå·±çš„ä¿¡æ¯ã€‚
```javascript
<script src="https://utteranc.es/client.js"
        repo="maoqyhz/comments" # onwer/repo
        issue-term="pathname"   # å‘½åissueçš„æ ¼å¼ï¼Œé»˜è®¤pathname
        label="Comment"         # åˆ›å»ºissueçš„tagï¼Œé»˜è®¤Comment
        theme="github-light"    # è¯„è®ºç³»ç»Ÿthemeï¼Œgithub-lightæˆ–github-dark
        crossorigin="anonymous" # è·¨åŸŸï¼Œé»˜è®¤
        async>
</script>
```
### Hexo Next ä¸»é¢˜é…ç½®

é¦–å…ˆï¼Œè¿›å…¥ä¸»é¢˜ç›®å½•ï¼Œåœ¨ `layout/_third-party/comments/` ä¸­åˆ›å»º `utterances.swig`ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š
```
{% if theme.utterances.enable %}
<script src="https://utteranc.es/client.js"
        repo="{{ theme.utterances.repo }}"
        issue-term="{{ theme.utterances.issue_term }}"
        label="Comment"
        theme="{{ theme.utterances.theme }}"
        crossorigin="anonymous"
        async>
</script>
{% endif %}
```
å†åœ¨ `layout/_partials/comments.swig` ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š
```
{% elseif theme.utterances.enable %}
 <div class="comments" id="comments">
    {% include '../_third-party/comments/utterances.swig' %}
 </div>
{% endif %}
```
æœ€åï¼Œåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ `theme/_config.yml` ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š
```yaml
# utterances 
utterances:
  enable: true
  repo:                  # owner/repo
  issue_term: pathname   # pathname, url, title
  theme: github-light    # github-light or github-dark
```

é‡æ–°ç”Ÿæˆç½‘é¡µï¼Œå°±èƒ½çœ‹åˆ°è¯„è®ºç³»ç»Ÿäº†ã€‚